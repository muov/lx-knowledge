---
title: ESLint 和 Prettier 集成
createTime: 2025/12/22 19:52:27
permalink: /web/engineering/wqbfgh8n/
---

## 1、配置 Prettier

### 1.1、安装插件

```bash
npm install -D prettier
```

### 1.2、插件配置

**配置文件`.prettierrc`**

```json
{
  "semi": false,
  "singleQuote": true,
  "arrowParens": "avoid"
}
```

**忽略文件`.prettierignore`**

```bash
dist

**/*.config,js
```

**配置 npm 脚本**

```json
"format": "prettier --write src/**/*.{js,ts,vue,jsx,tsx}"
```

> 了解更多，请查看[Prettier](./prettier.md)

## 2、配置 ESLint

### 2.1、安装插件

```bash
npm i -D eslint globals @eslint/js typescript-eslint eslint-plugin-vue
```

### 2.2、插件配置

**配置文件`eslint.config.js`**

```js
import js from "@eslint/js";
import globals from "globals";
import tseslint from "typescript-eslint";
import pluginVue from "eslint-plugin-vue";
import { defineConfig, globalIgnores } from "eslint/config";

export default defineConfig([
  globalIgnores(["**/*.config.{js,mjs,cjs,ts,mts,cts}"]),
  {
    files: ["**/*.{js,mjs,cjs,ts,mts,cts,vue}"],
    plugins: { js },
    extends: ["js/recommended"],
    languageOptions: {
      globals: globals.browser,
    }
  },
  tseslint.configs.recommended,
  pluginVue.configs["flat/essential"],
  {
    files: ["**/*.vue"],
    languageOptions: {
      parserOptions: {
        parser: tseslint.parser
      }
    }
  },
  {
    plugins: {},
    rules: {
      // 禁止使用 var 声明变量，使用 var 会触发错误
      'no-var': 'error',
      // 要求类型定义统一使用 interface，违反此规则会触发错误
      '@typescript-eslint/consistent-type-definitions': ['error', 'interface'],
      // 关闭禁止使用显式 any 类型的规则
      '@typescript-eslint/no-explicit-any': 'off',
      // 关闭 Vue 组件名必须为多单词的规则
      'vue/multi-word-component-names': 'off',
      // 关闭禁止使用异步 Promise 执行器的规则
      'no-async-promise-executor': 'off',
      // 关闭禁止使用未定义变量的规则
      'no-undef': 'off',
    }
  }
]);
```

**配置 npm 脚本**

```json
"lint": "eslint src --fix"
```

> 了解更多，请查看[ESLint](./eslint.md)

## 3、解决插件冲突

### 3.1、安装插件

```bash
npm i -D eslint-plugin-prettier eslint-config-prettier
```

### 3.2、调整 ESLint 配置

```js
import eslintConfigPrettier from 'eslint-config-prettier'
import eslintPluginPrettierRecommended from 'eslint-plugin-prettier/recommended'
import { defineConfig } from 'eslint/config'

export default defineConfig([
  // ...
  eslintConfigPrettier,
  eslintPluginPrettierRecommended
  // ...
])
```

## 4、集成 Vite

> 通过控制台日志显示结果

### 4.1、安装插件

```bash
npm i -D @nabla/vite-plugin-eslint
```

### 4.2、调整 Vite 配置

```js
import vue from '@vitejs/plugin-vue'
import { defineConfig } from 'vite'
import eslintPlugin from '@nabla/vite-plugin-eslint'

// https://vite.dev/config/
export default defineConfig(() => {
  return {
    plugins: [
      vue(),
      eslintPlugin({
        eslintOptions: {
          cache: false,
          fix: true,
        },
      }),
    ],
  }
})
```